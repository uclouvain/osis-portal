{% extends "bootstrap5/layout.html" %}

{% load static %}
{% load i18n %}
{% load l10n %}
{% comment "License" %}
    * OSIS stands for Open Student Information System. It's an application
    * designed to manage the core business of higher education institutions,
    * such as universities, faculties, institutes and professional schools.
    * The core business involves the administration of students, teachers,
    * courses, programs and so on.
    *
    * Copyright (C) 2015-2021 Universit√© catholique de Louvain (http://www.uclouvain.be)
    *
    * This program is free software: you can redistribute it and/or modify
    * it under the terms of the GNU General Public License as published by
    * the Free Software Foundation, either version 3 of the License, or
    * (at your option) any later version.
    *
    * This program is distributed in the hope that it will be useful,
    * but WITHOUT ANY WARRANTY; without even the implied warranty of
    * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    * GNU General Public License for more details.
    *
    * A copy of this license - GNU General Public License - is available
    * at the root of the source code of this program.  If not,
    * see http://www.gnu.org/licenses/.
{% endcomment %}
{% block breadcrumb_area %}
    <ol class="breadcrumb d-block">
        <li class="breadcrumb-item d-inline-block">
            <a href="{% url 'dashboard_home' %}" id="lnk_home_osis">
                <span class="fa-solid fa-home" aria-hidden="true"></span>
            </a>
        </li>

        {% block breadcrumb %}
            {% if perms.base.is_faculty_administrator %}
                <li class="breadcrumb-item d-inline-block"><a href="{% url 'visualize_tutor_applications' global_id=a_person.global_id %}"
                       id="lnk_applications">
                    {% trans 'Applications of ' %} {{ a_person.first_name }} {{ a_person.last_name }}
                </a>
                </li>
            {% else %}
                <li class="breadcrumb-item d-inline-block"><a href="{% url 'applications_overview' %}" id="lnk_applications">{% trans 'My applications' %}</a>
                </li>
            {% endif %}
            <li class="breadcrumb-item d-inline-block">{% trans 'My application' %}</li>

            <a href="{{ help_button_url }}"
                class="float-end"
                target="help" id="lnk_user_manual_section"><i
                class="fa-solid fa-circle-question float-end text-success fs-4"
                aria-hidden="true"></i>
            </a>

        {% endblock %}
    </ol>
{% endblock %}
{% block content %}
   {% include "template_messages.html" %}

    <div class="card" id="pnl_application_form">
        <div class="card-header">{% trans 'Application' %}</div>
        <div class="card-body">
            <form method="POST" class="form" role="form" action="{{ save_url }}" >
                {% csrf_token %}

                {% if form.non_field_errors %}
                    <div class="alert alert-danger" role="alert">
                        <ul>
                            {% for error in form.non_field_errors %}
                                <li> {{ error }} </li>
                            {% endfor %}
                        </ul>
                    </div>
                {% endif %}

                <div class="row">
                    <div class="col-lg-2">
                        <label>{% trans 'Code' %}</label>
                        <br>
                        {{ form.vacant_course.code }}
                    </div>
                    <div class="col-lg-6">
                        <label>{% trans 'Title' %}</label>
                        <br>
                        {{ form.vacant_course.title }}
                    </div>
                </div>
                <br>
                <div class="row">
                    <div class="col-lg-2">
                        <label>{% trans 'Vol.1 vacant' %}</label>
                        <br>
                        <span name="max_charge_lecturing">
                            {{ form.vacant_course.lecturing_volume_available }}
                        </span>
                    </div>
                    <div class="col-lg-2">
                        <label>{% trans 'Vol.2 vacant' %}</label>
                        <br>
                        <span name="max_charge_practical">
                            {{ form.vacant_course.practical_volume_available }}
                        </span>
                    </div>
                </div>
                <br>
                <div class="row">
                    <div class="col-lg-2">
                        <label>{% trans 'Vol.1 applied' %}</label>
                        <br>
                        {{ form.charge_lecturing_asked }}
                        {% if form.charge_lecturing_asked.errors %}
                            <span class="error">{{ form.charge_lecturing_asked.errors|striptags }}</span>
                        {% endif %}
                    </div>
                    <div class="col-lg-2">
                        <label>{% trans 'Vol.2 applied' %}</label>
                        <br>
                        {{ form.charge_practical_asked }}
                        {% if form.charge_practical_asked.errors %}
                            <span class="error">{{ form.charge_practical_asked.errors|striptags }}</span>
                        {% endif %}
                    </div>
                </div>
                <br>
                <div class="row">
                    <div class="col-lg-12">
                        <label>{% trans 'Pedagogy proposal' %}</label>
                        <br>
                        {{ form.course_summary }}
                    </div>
                </div>
                <br>
                <div class="row">
                    <div class="col-lg-12">
                        <label>{% trans 'Remark' %}</label>
                        <br>
                        {{ form.remark }}
                        {% if form.remark.errors %}
                            <span class="error">{{ form.remark.errors|striptags }}</span>
                        {% endif %}
                    </div>
                </div>
                <br>
                <div class="row float-end">
                    <div class="col-lg-12">
                        <button class="btn btn-primary" id="bt_submit" type="submit" title="{% trans 'Submit' %}">
                            <i class="fa-solid fa-floppy-disk" aria-hidden="true"></i>
                            {% trans 'Submit' %}
                        </button>

                        <a class="btn btn-default" href="{{ cancel_url }}" title="{% trans 'Cancel' %}">
                            {% trans 'Cancel' %}
                        </a>
                    </div>
                </div>
            </form>
        </div>
    </div>
{% endblock %}
